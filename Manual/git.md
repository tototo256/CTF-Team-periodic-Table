# CTFチームのためのGit/GitHub運用ガイド

私がSorceTreeを使っているのでSorceTreeの説明とか入ります。
Made By Gemini
ほかちょっと私加筆

## 1. 最初の準備（初回のみ）

1.  **リポジトリ作成**: GitHub上にチーム用の**プライベート**リポジトリを1つ作成します。
2.  **デフォルトブランチ設定**: リポジトリのデフォルトブランチが`main`になっていることを確認します。
3.  **ブランチ保護**: GitHubの **Settings > Branches** で、`main`ブランチに**ブランチ保護ルール (Branch protection rule)** を設定し、直接のプッシュを禁止します。
4.  **クローン**: チームメンバー全員が、SourceTreeなどを使ってリポジトリを自分のPCにクローン（`git clone`）します。

---

## 2. 日々の作業の流れ（Writeupなどを書くとき）

一つの作業（例: A問題のWriteup作成）を始める時から完了するまでの全ステップです。

### ステップ1：最新化
- まず`main`ブランチに移動し、「**プル (`pull`)**」を実行して、チームの最新の変更を自分のPCに取り込みます。

### ステップ2：ブランチ作成
- 最新の`main`ブランチから、作業用の**新しいブランチ**をローカルで作成します。
- ブランチ名は「何をしているか」が分かるように `[種類]/[内容]` の形式で命名します。
  - **良い例:**
    - `writeup/2025_example_ctf/pwn_problem`
    - `fix/update-crypto-solver-script`
    - `docs/add-ghidra-setup-guide`

### ステップ3：作業とコミット
- 作成したブランチ上で、Writeupの執筆やコードの作成を行います。
- キリの良いところで、変更内容を「**ステージ (`add`)**」し、「**コミット (`commit`)**」します。（コミットは何度行ってもOKです）

### ステップ4：プッシュ
- 作業が終わったら、**作業ブランチ**をGitHubに「**プッシュ (`push`)**」します。

### ステップ5：プルリクエスト作成
- GitHubのサイト上で、プッシュした作業ブランチから`main`ブランチへの**プルリクエスト（PR）**を作成します。
- PRの説明欄に、何をしたのかを簡潔に書きます。

### ステップ6：レビュー
- チームメンバーにレビューを依頼します。（`@username`でメンション）
- レビュアーは内容を確認し、問題なければ「**Approve**」または「**LGTM**」（Looks Good To Me）とコメントします。

### ステップ7：マージ
- 承認されたら、**PRを作成した本人が**GitHub上で「**Merge**」ボタンを押します。

### ステップ8：片付け（ブランチ削除）
- マージ後、GitHub上に表示される「**Delete branch**」ボタンで、リモートの作業ブランチを削除します。
- 自分のPC（SourceTreeなど）上でも、使い終わったローカルの作業ブランチを削除します。

---

## 3. ルール

### ルール1：`main`は直接いじらない
`main`ブランチには絶対に直接コミット・プッシュしません。全ての変更はプルリクエストを経由させます。

### ルール2：ブランチは使い捨て
作業ブランチは、一つのタスクが終わったら削除する「一時的な作業場所」です。次の作業を始めるときは、必ず最新の`main`から新しいブランチを作成します。

### ルール3：こまめに同期
作業を始める前には、必ず`main`ブランチをプルして最新の状態に保ちます。これにより、conflict（競合）を未然に防ぎます。
細かくプッシュしてconflictを防ぐこと！

### ルール4：プルリクエストはきちんと書くこと
こまめにPull Requestを発行するのでレビュー頻度が高くなりがちです。レビューする人の気持ちになって、変更内容の詳細やレビューしてほしい観点を細かく記載しましょう。

---

### 用語の確認

- **Push（プッシュ）**: 自分のPC（ローカル）での変更を、GitHub（リモート）に**アップロード**する作業。
- **Merge（マージ）**: あるブランチの変更内容を、別のブランチに**合体**させる作業。GitHub Flowでは、プルリクエストを通じて行う。